function sleep(ms){return new Promise(r=>setTimeout(r,ms))}
export async function fetchNpiProfile(npi){await sleep(200);return{npi,taxonomy:'Urology',addresses:[{city:'Chicago',state:'IL'},{city:'Evanston',state:'IL'}],enumerationDate:'2016-03-21',lastUpdated:'2025-08-07'}}
export async function fetchOpenPaymentsSummary(npi){await sleep(200);return{npi,totalAmount:2200,byCategory:[{category:'Education',amount:1200},{category:'Consulting',amount:700},{category:'Food/Travel',amount:300}],lastUpdated:'2025-07-30',trend:'up'}}
export async function fetchProductUtilization(npi){await sleep(250);const months=['2024-09','2024-10','2024-11','2024-12','2025-01','2025-02','2025-03','2025-04','2025-05','2025-06','2025-07','2025-08'];let b1=50,b2=35;const series=months.map((m,i)=>{b1+=(Math.random()*6-2)+(i>6?2:0);b2+=(Math.random()*6-2)-(i>6?1:0);return{month:m,intermittent:Math.max(0,Math.round(b1)),indwelling:Math.max(0,Math.round(b2))}});return{months:series,lastUpdated:'2025-08-07'}}
export async function fetchTripNotes(npi){await sleep(250);return[{date:'2025-07-22',summary:'Discussed CAUTI bundle gaps; interest in intermittent education; asked for decision aid PDF.',followUp:'Send decision aid + propose nurse in-service.',sentiment:'positive'},{date:'2025-06-05',summary:'ASC manager requested pricing clarity; wants trial kit details.',followUp:'Email kit BOM + sample policy.',sentiment:'neutral'},{date:'2025-05-10',summary:'Clinic bandwidth tight; telehealth follow-up suggested; considering pilot in Aug.',followUp:'Book August pilot check-in.',sentiment:'positive'}]}
export async function refreshData(npi){await sleep(300);return{ok:true,refreshedAt:new Date().toISOString()}}
